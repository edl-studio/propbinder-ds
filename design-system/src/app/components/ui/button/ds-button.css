/* Brockmann Font Definitions */
@font-face {
  font-family: 'Brockmann';
  src: url('/Brockmann/Brockmann-Regular.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Brockmann';
  src: url('/Brockmann/Brockmann-Medium.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Brockmann';
  src: url('/Brockmann/Brockmann-SemiBold.otf') format('opentype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* AI Gradient Variables */
:host {
  --ai-gradient-color-1: #5D42E9;
  --ai-gradient-color-2: #7C1DEC;
  --ai-gradient-color-3: #9218DC;
  --ai-gradient-color-4: #C800F5;
  --ai-gradient-color-5: #F414BC;

  --ai-gradient: linear-gradient(
    90deg,
    var(--ai-gradient-color-1) 0%,
    var(--ai-gradient-color-2) 25%,
    var(--ai-gradient-color-3) 50%,
    var(--ai-gradient-color-4) 75%,
    var(--ai-gradient-color-5) 100%
  );

  --ai-gradient-alpha-5: linear-gradient(
    90deg,
    rgba(93, 66, 233, 0.05) 0%,
    rgba(124, 29, 236, 0.05) 25%,
    rgba(146, 24, 220, 0.05) 50%,
    rgba(200, 0, 245, 0.05) 75%,
    rgba(244, 20, 188, 0.05) 100%
  );

  --ai-gradient-alpha-10: linear-gradient(
    90deg,
    rgba(93, 66, 233, 0.1) 0%,
    rgba(124, 29, 236, 0.1) 25%,
    rgba(146, 24, 220, 0.1) 50%,
    rgba(200, 0, 245, 0.1) 75%,
    rgba(244, 20, 188, 0.1) 100%
  );
}

/* Base component styles */
:host {
  display: inline-block;
  font-family: 'Brockmann', system-ui, -apple-system, sans-serif;
}

/* Base button styles */
.btn {
  /* Layout */
  @apply tw-relative tw-inline-flex tw-items-center tw-justify-center;
  gap: 4px;
  @apply tw-rounded-md tw-font-medium tw-border tw-no-underline tw-whitespace-nowrap;
  
  /* Typography */
  font-family: inherit;
  
  /* Interaction */
  @apply tw-cursor-pointer tw-outline-none;
  @apply tw-transition-all tw-duration-200 tw-ease-in-out;
  
  /* Focus styles */
  &:focus-visible {
    @apply tw-outline-[3px] tw-outline-offset-0;
    outline-color: var(--color-brand-base);
  }
  
  /* Disabled styles */
  &:disabled {
    @apply tw-opacity-50 tw-cursor-not-allowed;
    
    &:focus-visible {
      @apply tw-outline-none;
    }
  }
}

/* Size variants */
.btn--sm {
  @apply tw-h-8 tw-text-sm tw-rounded-md;
}

.btn--md {
  @apply tw-h-9 tw-text-sm tw-rounded-md;
}

.btn--lg {
  @apply tw-h-10 tw-text-base tw-rounded-lg;
}

/* Padding variants based on icon presence */
.btn--padding-default {
  @apply tw-px-3;
}

.btn--padding-default-sm {
  @apply tw-px-2.5;
}

.btn--padding-with-leading {
  @apply tw-pl-2 tw-pr-3;
}

.btn--padding-with-trailing {
  @apply tw-pl-3 tw-pr-2;
}

.btn--padding-with-both {
  @apply tw-pl-2 tw-pr-2;
}

/* Icon-only button padding (square) */
.btn--padding-icon-only-sm {
  @apply tw-px-2; /* 32px total width for 32px height */
}

.btn--padding-icon-only-md {
  @apply tw-px-2; /* 36px total width for 36px height */
}

.btn--padding-icon-only-lg {
  @apply tw-px-2.5; /* 40px total width for 40px height */
}

/* Color variants using design tokens */
.btn--primary {
  background-color: var(--color-background-brand);
  color: white;
  border: none;
}

.btn--primary:hover:not(:disabled) {
  background-color: var(--color-background-brand-hover);
  border: none;
}

.btn--primary:active:not(:disabled) {
  background-color: var(--color-background-brand);
  border: none;
}

.btn--primary:disabled {
  background-color: var(--color-background-brand-disabled);
  border: none;
}

.btn--primary:focus-visible {
  outline: none;
  border: none;
}

.btn--secondary {
  background-color: var(--color-background-neutral-secondary);
  color: var(--text-color-default-primary);
  border-color: transparent;
}

.btn--secondary:hover:not(:disabled) {
  background-color: var(--color-background-neutral-secondary-hover);
}

.btn--secondary:active:not(:disabled) {
  background-color: var(--color-background-neutral-secondary);
}

.btn--ghost {
  background-color: transparent;
  color: var(--text-color-default-secondary);
  border-color: transparent;
}

.btn--ghost:hover:not(:disabled) {
  background-color: var(--color-background-neutral-secondary-hover);
  color: var(--text-color-default-primary);
}

.btn--ghost:active:not(:disabled) {
  background-color: var(--color-background-neutral-secondary);
}

.btn--destructive {
  background-color: var(--color-destructive-base);
  color: white;
  border-color: transparent
}

.btn--destructive:hover:not(:disabled) {
  background-color: var(--color-destructive-base-hover);
}

.btn--destructive:active:not(:disabled) {
  background-color: var(--color-destructive-strong);
}

/* State classes */
.btn--pressed {
  @apply tw-scale-98;
}

/* Content wrapper */
.btn__content {
  /* Default visible */
}

.btn__content--loading {
  @apply tw-opacity-0;
}

/* Loading overlay */
.btn__loading {
  @apply tw-absolute tw-inset-0 tw-flex tw-items-center tw-justify-center;
  background-color: inherit;
  border-radius: inherit;
}

/* Icon styling */
.btn__icon {
  @apply tw-flex-shrink-0;
}

.btn__icon--loading {
  @apply tw-animate-spin;
}

/* Sidebar header toggle button overrides */
:host(.sidebar-header__toggle-btn) .btn {
  background-color: transparent;
  color: rgba(255, 255, 255, 0.6);
  border-color: transparent;
}

:host(.sidebar-header__toggle-btn) .btn:hover:not(:disabled) {
  background-color: rgba(255, 255, 255, 0.10);
  color: rgba(255, 255, 255, 1);
}

/* Sidebar global action button overrides */
:host(.sidebar-global-action__button) {
  display: block !important;
  width: 100% !important;
}

:host(.sidebar-global-action__button) .btn {
  width: 100% !important;
}

/* AI Button Variants */
/* Primary AI variant with background */
.btn.btn--ai-primary,
.btn.btn--ai-ghost {
  position: relative;
  background: transparent;
  isolation: isolate;
  overflow: hidden;
  border: 1px solid rgba(124, 29, 236, 0.1);

  /* Gradient Text */
  .btn__content,
  .btn__icon,
  ds-icon {
    background: var(--ai-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  ds-icon {
    --icon-color: var(--ai-gradient-color-1) !important;
  }
}

.btn.btn--ai-ghost {
  border: none;
}

/* Base pseudo-element styles for both variants */
.btn.btn--ai-primary::before,
.btn.btn--ai-ghost::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--ai-gradient);
  transition: opacity 0.2s ease-in-out;
  z-index: -1;
  box-sizing: border-box;
}

/* Variant-specific opacity settings */
.btn.btn--ai-primary::before {
  opacity: 0.05;
}

.btn.btn--ai-primary:hover:not(:disabled)::before {
  opacity: 0.1;
}

.btn.btn--ai-primary:active:not(:disabled)::before {
  opacity: 0.05;
}

.btn.btn--ai-ghost::before {
  opacity: 0;
}

.btn.btn--ai-ghost:hover:not(:disabled)::before {
  opacity: 0.05;
}

.btn.btn--ai-ghost:active:not(:disabled)::before {
  opacity: 0;
}

/* Ensure icons in primary buttons are white */
.btn--primary .btn__icon,
.btn--primary ds-icon {
  color: white !important;
}

/* Depth utility classes for buttons */
:host(.depth-sm) {
  @apply tw-rounded-md;
}

:host(.depth-sm) .btn {
  box-shadow: 
    inset 0 10px 10px rgba(255, 255, 255, 0.2),
    inset 0 -1.5px 1px rgba(0, 0, 0, 0.25),
    inset 0 1px 1px rgba(255, 255, 255, 0.3);
}

:host(.depth-md) {
  @apply tw-rounded-md;
}

:host(.depth-md) .btn {
  box-shadow: 
    inset 0 20px 20px rgba(255, 255, 255, 0.2),
    inset 0 -3px 2px rgba(0, 0, 0, 0.25),
    inset 0 2px 2px rgba(255, 255, 255, 0.3);
}

:host(.depth-lg) {
  @apply tw-rounded-lg;
}

:host(.depth-lg) .btn {
  box-shadow: 
    inset 0 30px 30px rgba(255, 255, 255, 0.2),
    inset 0 -4.5px 3px rgba(0, 0, 0, 0.25),
    inset 0 3px 3px rgba(255, 255, 255, 0.3);
}